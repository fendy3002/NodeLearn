<!DOCTYPE html>
<html>

<head>
</head>

<body>
    <div id="stage-parent" style="overflow-x:scroll">
        <div id="container"></div>
    </div>
    <script src="https://unpkg.com/konva@4.0.0/konva.min.js"></script>
    <script src="./style.js"></script>
    <script src="./draw.js"></script>
    <script src="./make.js"></script>
    <script>
        let phases = [
            'REQUIREMENT',
            'DESIGN',
            'CREATION',
            'REVIEW'
        ];
        let points = {
            type: "done",
            phase: 0,
            next: {
                type: "done",
                phase: 0,
                next: {
                    type: "done",
                    pointType: "parallel",
                    phase: 1,
                    items: [
                        {
                            type: "done",
                            phase: 1
                        },
                        {
                            type: "done",
                            phase: 1,
                            next: {
                                type: "active",
                                phase: 2,
                                next: {
                                    type: "pending",
                                    phase: 2
                                }
                            }
                        },
                        {
                            type: "active",
                            phase: 1,
                            next: {
                                type: "pending",
                                pointType: "parallel",
                                phase: 1,
                                items: [{
                                    type: "pending",
                                    phase: 1,
                                }, {
                                    type: "pending",
                                    phase: 1,
                                    next: {
                                        type: "pending",
                                        phase: 1,
                                    }
                                }, {
                                    type: "pending",
                                    phase: 1,
                                }]
                            }
                        },
                        {
                            type: "done",
                            pointType: "parallel",
                            phase: 1,
                            items: [
                                {
                                    type: "active",
                                    phase: 1,
                                },
                                {
                                    type: "pending",
                                    phase: 1,
                                    next: {
                                        type: "pending",
                                        phase: 1,
                                    }
                                },
                                {
                                    type: "pending",
                                    phase: 1,
                                }],
                            next: {
                                type: "pending",
                                phase: 1,
                            }
                        }
                    ],
                    next: {
                        type: "pending",
                        phase: 3
                    }
                }
            }
        };


        let make = window.stepProgress.make("container", {
            phase: phases
        });
        make.render(points);
        // let draw = make.draw;
        // let a = draw.point({ x: 200, y: 100 }, "done");
        // let b = draw.point({ x: 350, y: 100 }, "done");
        // let c = draw.point({ x: 500, y: 130 }, "pending");

        // draw.connect(a, b);
        // draw.connect(b, c);
        // let phase = draw.phase(150, 550, "PHASE1");
        //draw.draw();
    </script>
</body>

</html>